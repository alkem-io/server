# Platform-admin mutation for populating authentication IDs
# Schema additions belong under the admin mutations module.

"""Result payload for the authentication ID backfill mutation."""
type AdminAuthenticationIDBackfillResult {
  "Total users examined during the run"
  processed: Int!

  "Users whose authenticationID was populated"
  updated: Int!

  "Users skipped because no Kratos identity was found or already linked"
  skipped: Int!

  "Batches that failed but were retried successfully"
  retriedBatches: Int!
}

extend type Mutation {
  "Populate authenticationID for existing users by querying Kratos Admin API"
  adminBackfillAuthenticationIDs: AdminAuthenticationIDBackfillResult!
}
