# GraphQL contract for whiteboard guest access toggle

"""
Mutation toggles GLOBAL_GUEST permissions for a whiteboard.
"""
mutation UpdateWhiteboardGuestAccess($input: UpdateWhiteboardGuestAccessInput!) {
  updateWhiteboardGuestAccess(input: $input) {
    success
    whiteboard {
      id
      guestContributionsAllowed
      authorization {
        credentialRules {
          name
          grantedPrivileges
        }
      }
    }
    errors {
      code
      message
    }
  }
}

"""
Input contract sketch; final naming must align with generated schema utilities.
"""
input UpdateWhiteboardGuestAccessInput {
  whiteboardId: UUID!
  guestAccessEnabled: Boolean!
}

"""
Expected payload excerpt; actual type may embed union types consistent with existing API patterns.
"""
 type UpdateWhiteboardGuestAccessResult {
  success: Boolean!
  whiteboard: Whiteboard
  errors: [WhiteboardGuestAccessError!]
}

 type WhiteboardGuestAccessError {
  code: WhiteboardGuestAccessErrorCode!
  message: String!
 }
